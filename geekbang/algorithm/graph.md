## 图(Graph)

### 图的基础

非线性表数据结构

定义

- 顶点(vertex)
- 边(edge)
- 度(degree): 跟顶点相连接的边的条数
- 方向
  - 有向图
    - 入度 (in-degree)
    - 出度(out-degree)
  - 无向图
- 权重(weight) 和 带权图 (weighted graph)



#### 邻接矩阵存储方法

邻接矩阵(adjacency matrix)

- 底层为一个二维数组 A
- 顶点 i 与 j 之间边的情形用 A\[i]\[j\] 和 A\[j\]\[i\] 表示
  - 无向图, 两个位置都置为 1
  - 有向图, 令 A\[i]\[j\] 对应 i -> j,  A\[j\]\[i\] 对应 j -> i
  - 带权图, 则在位置上存储对应的权重
- 邻接矩阵的存储空间问题
  - 无向图, 浪费一半空间
  - 稀疏图(sparse matrix), 顶点很多, 每个顶点的边并不多.
- 优点
  - 简单, 直观
  - 方便计算



#### 邻接表存储方法

- 每个顶点对应一条它所连接的其他顶点构成的链表

- 节省空间, 耗费时间
- 使用平衡查找树或其他动态数据结构代替链表来改善查找效率



### 深度和广度优先搜索

#### 搜索算法

在图中找出从一个顶点出发, 到另一个顶点的路径.



#### 广度优先搜索(Breadth-First-Search, BFS)

- 先查找离起始顶点最近的, 然后是次近的, 依次向外搜索.

  辅助变量

  1. queue: 存储已经访问过, 但相邻节点还没有被访问过顶点的队列
  2. visited: 记录已经访问过的顶点, 避免重复访问
  3. prev: 被访问的顶点的前驱顶点

- 时间复杂度 O(V+E): 对于所有顶点都连通的连通图, E >= V-1, 因此可以简写为 O(E)

- 空间复杂度 O(V)



#### 深度优先搜索 (Depth-First-Search, DFS)

- 基于回溯思想, 基于栈
- 时间复杂度 O(E): 每条边最多会被访问两次, 一次遍历, 一次回退
- 空间复杂度 O(V): visited, prev 大小跟 V 成正比, 递归调用栈最大深度不会超过顶点的个数

